(()=>{var e=!1;chrome.runtime.onMessage.addListener((function(t,n,o){var i=document.querySelector(".amn");if(i){if(!document.getElementById("myInjectButton")){var r=document.createElement("button");r.textContent="Button Added",r.id="myInjectButton",r.style.padding="9.5px 16px",r.style.backgroundColor="#87150b",r.style.color="white",r.style.border="1px solid #87150b",r.style.borderRadius="18px",r.style.fontWeight="500",r.style.marginRight="8px",r.style.cursor="pointer",r.style.fontFamily="Arial, sans-serif",r.style.fontSize=".875rem",r.addEventListener("click",(function(){chrome.runtime.sendMessage({action:"executeOnClicker"})}));var a=i.querySelector("span");a?i.insertBefore(r,a):i.appendChild(r)}}else if(!i){var l=document.querySelector(".J-J5-Ji.btA");if(!document.getElementById("myInjectSmallButton")){var s=document.createElement("img");s.src="https://media.licdn.com/dms/image/D4D0BAQGd8H31h5niqg/company-logo_200_200/0/1712309492132/evolvebay_logo?e=2147483647&v=beta&t=tSYT6EkXf7aP709xw1DbPc41AbobGq6qtM5PC1El__I",s.alt="icon",s.id="myInjectSmallButton",s.style.width="28px",s.style.height="28px",s.style.borderRadius="20px",s.style.marginLeft="10px",s.style.marginRight="2px",s.style.cursor="pointer",s.addEventListener("click",(function(){e=!1}));var c=null==l?void 0:l.querySelector("span");c?null==l||l.insertBefore(s,c):null==l||l.appendChild(s)}}})),chrome.runtime.onMessage.addListener((function(t,n,o){if("clickReplyButton"===t.action){var i=document.querySelector(".ams.bkH");if(i)i.click();else if(!e){var r=document.createElement("iframe");r.style.cssText="\n            position: fixed;\n            top: 5em; \n            right: 3em; \n            width: 300px; \n            height: 350px;\n            border: 1px solid blue;\n            border-radius: 17px;\n            z-index: 999999;\n            background-color: white;\n          ",r.src=chrome.runtime.getURL("iframe.html"),document.body.appendChild(r),e=!0,chrome.runtime.onMessage.addListener((function(e,t,n){"closeIframe"===e.action&&r&&r.parentNode&&r.parentNode.removeChild(r)}))}}})),chrome.runtime.onMessage.addListener((function(e,t,n){if("handleAuthToken"===e.action){var o=e.token;console.log("Received token in content script:",o)}}));var t=!1;chrome.runtime.onMessage.addListener((function(e,n,o){if("setResponseInReplyInput"===e.action&&!t){var i=document.querySelector(".Am.aiL.aO9.Al.editable.LW-avf.tS-tW");if(i){var r=e.response,a=null==r?void 0:r.indexOf(","),l=null==r?void 0:r.substring(0,a+1),s=null==r?void 0:r.substring(a+1),c='\n        <div style="line-height: 2; font-family: Arial, sans-serif;">\n          '.concat(l,"<br><br>\n          ").concat(s,"<br><br>\n          Best regards,<br>\n          [Your Name]\n        </div>");i.innerHTML=c}}})),chrome.runtime.onMessage.addListener((function(e,n,o){if("suggestedText"===e.action){t=!0;var i=document.querySelector(".Am.aiL.aO9.Al.editable.LW-avf.tS-tW");i?i.textContent=e.suggestedText:console.log("Reply input not found")}})),chrome.runtime.onMessage.addListener((function(e,t,n){"generateEmailText"===e.action&&e.emailText}))})();